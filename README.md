# TBTL Showfeed Websub

This server subscribes to an RSS feed which implements the [websub spec](https://www.w3.org/TR/websub/), previously called pubsubhubbub. The server implementation relies on [`node-pubsubhubbub`](https://github.com/pubsubhubbub/node-pubsubhubbub) available on NPM.

There are no publicly available APIs to this server as its only purpose is to subscribe to a websub hub, handle requests from the hub and handle feed updates.

When a new feed is published, it is sent to this server, where the XML string is parsed using the function in `./feed-parser.js`. The parsed result is a JavaScript Object with the following properties:

| key | value description|
|-----|------------------|
|String title| Title of the episode. |
|String url| URL to the posts on `tbtl.net`. It is generated by sanitizing `title` in a similar manner used by WordPress.|
|String description| Episode description. |

The `Object` above is sent as `POST` data in JSON format to another webserver to be posted using the Reddit API.